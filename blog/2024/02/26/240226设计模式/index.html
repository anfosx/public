<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="è®¾è®¡æ¨¡å¼" />
    <meta name="hexo-theme-A4" content="v2.0.0" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>å®‰å¾·é²</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


   
        
<link rel="stylesheet" href="/css/custom.css">

    
    <link rel='stylesheet' href='https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkai/dist/LXGWWenKai-Regular/result.css' /> 
<meta name="generator" content="Hexo 7.3.0"></head>
    
    

    
    



    

    
    




    
    


    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            
                <div class="left-toc-container">
                    <nav id="toc" class="bs-docs-sidebar"></nav>
                </div>
            
        
        <div class="paper">

            

            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <style>
            .header-img {
                width: 56px;
                height: auto;
                object-fit: cover; /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ */
                transition: transform 0.3s ease-in-out; 
                border-radius: 0; 
            }
            
        </style>
        <img 
            alt="^-^" 
            cache-control="max-age=86400" 
            class="header-img" 
            src="/img/favicon.webp" 
        />
        <div class="header-content">
            <a class="logo" href="/">å®‰å¾·é²</a> 
            <span class="description"></span> 
        </div>
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
            
                <li><a href="/project/">ä½œå“</a></li>
            
        
            
                <li><a href="/about/">å…³äº</a></li>
            
        
    </ul>
</div>

                    
                    

                    
                    

                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title">
                    è®¾è®¡æ¨¡å¼
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-left">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2025-10-24</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š4.9k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š22åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JS-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">JS è®¾è®¡æ¨¡å¼</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3-%E5%B0%81%E8%A3%85%E5%8F%98%E5%8C%96"><span class="post-toc-text">æ ¸å¿ƒæ€æƒ³ - å°è£…å˜åŒ–</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA%E5%9E%8B"><span class="post-toc-text">åˆ›å»ºå‹</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">å·¥å‚æ¨¡å¼</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">å•ä¾‹æ¨¡å¼ *</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">åŸå‹æ¨¡å¼ *</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%BB%93%E6%9E%84%E5%9E%8B"><span class="post-toc-text">ç»“æ„å‹</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">è£…é¥°å™¨æ¨¡å¼ *</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">é€‚é…å™¨æ¨¡å¼</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">ä»£ç†æ¨¡å¼ *</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="post-toc-text">è¡Œä¸ºå‹</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">ç­–ç•¥æ¨¡å¼</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">çŠ¶æ€æ¨¡å¼</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">è§‚å¯Ÿè€…æ¨¡å¼ **</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">è¿­ä»£å™¨æ¨¡å¼ *</span></a></li></ol></li></ol></li></ol>
            
        
        <div class=".article-gallery"><h2 id="JS-è®¾è®¡æ¨¡å¼"><a href="#JS-è®¾è®¡æ¨¡å¼" class="headerlink" title="JS è®¾è®¡æ¨¡å¼"></a>JS è®¾è®¡æ¨¡å¼</h2><blockquote>
<p>æ‰€è°“å·¥ç¨‹èƒ½åŠ›ï¼Œæœ¬è´¨æ˜¯â€œè§£å†³é—®é¢˜çš„èƒ½åŠ›â€ï¼Œæ— è®ºæ˜¯ç¡¬ç¼–ç å®åŠ›ã€è¿˜æ˜¯æ¶æ„æ€æƒ³ï¼Œå…¶æœ¬è´¨éƒ½æ˜¯ä¸ºäº†è§£å†³é—®é¢˜è¿™ä¸ªç»ˆæç›®æ ‡è€ŒæœåŠ¡ã€‚</p>
</blockquote>
<h3 id="æ ¸å¿ƒæ€æƒ³-å°è£…å˜åŒ–"><a href="#æ ¸å¿ƒæ€æƒ³-å°è£…å˜åŒ–" class="headerlink" title="æ ¸å¿ƒæ€æƒ³ - å°è£…å˜åŒ–"></a>æ ¸å¿ƒæ€æƒ³ - å°è£…å˜åŒ–</h3><ul>
<li>è®¾è®¡æ¨¡å¼å‡ºç°çš„èƒŒæ™¯ï¼Œæ˜¯è½¯ä»¶è®¾è®¡çš„å¤æ‚åº¦æ—¥ç›Šæå‡ï¼Œå…¶ä¸­çš„æ ¸å¿ƒåœ¨äºâ€œå˜åŒ–â€ã€‚æˆ‘ä»¬éœ€è¦åšçš„æ˜¯å°†å˜ä¸ä¸å˜åˆ†ç¦»ï¼Œç¡®ä¿å˜åŒ–çš„éƒ¨åˆ†çµæ´»ï¼Œä¸å˜çš„éƒ¨åˆ†ç¨³å®šï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯â€œå°è£…å˜åŒ–â€ï¼Œè¿™æ ·çš„ä»£ç ç»çš„èµ·æ—¶é—´çš„è€ƒéªŒï¼Œè®¾è®¡æ¨¡å¼å°±æ˜¯ä¸ºäº†å¸®æˆ‘ä»¬å†™å‡ºè¿™æ ·çš„ä»£ç </li>
<li>åœ¨ JavaScript è®¾è®¡æ¨¡å¼ä¸­ï¼Œä¸»è¦ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼éœ€è¦åŸºæœ¬å›´ç»•<em><strong>â€œå•ä¸€åŠŸèƒ½â€</strong></em>å’Œ<em><strong>â€œå¼€æ”¾å°é—­â€</strong></em>è¿™ä¸¤ä¸ªåŸåˆ™æ¥å±•å¼€ï¼Œä»¥ä¸‹æ˜¯ SOLID è®¾è®¡åŸåˆ™<ul>
<li>å•ä¸€åŠŸèƒ½åŸåˆ™</li>
<li>å¼€æ”¾å°é—­åŸåˆ™</li>
<li>é‡Œå¼æ›¿æ¢åŸåˆ™</li>
<li>æ¥å£éš”ç¦»åŸåˆ™</li>
<li>ä¾èµ–åè½¬åŸåˆ™</li>
</ul>
</li>
</ul>
<h3 id="åˆ›å»ºå‹"><a href="#åˆ›å»ºå‹" class="headerlink" title="åˆ›å»ºå‹"></a>åˆ›å»ºå‹</h3><h4 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h4><ul>
<li><p>ç®€å•å·¥å‚æ¨¡å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•å·¥å‚æ¨¡å¼:</span></span><br><span class="line"><span class="comment">// å·¥å‚æ¨¡å¼æ¡ˆä¾‹ï¼Œæ ¸å¿ƒåœ¨äºå°†å˜ä¸ä¸å˜æŠ½ç¦»</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">User</span>(<span class="params">name, age, career, work</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">career</span> = careet;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">work</span> = work;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Factory</span>(<span class="params">name, age, career</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> work = [];</span><br><span class="line">  <span class="keyword">switch</span> (career) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;coder&quot;</span>:</span><br><span class="line">      work = [<span class="string">&quot;å†™ä»£ç &quot;</span>, <span class="string">&quot;æ”¹bug&quot;</span>, <span class="string">&quot;åˆ†æéœ€æ±‚&quot;</span>];</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;product manager&quot;</span>:</span><br><span class="line">      work = [<span class="string">&quot;ç»„ç»‡ä¼šè®®&quot;</span>, <span class="string">&quot;å†™éœ€æ±‚&quot;</span>];</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;boss&quot;</span>:</span><br><span class="line">      work = [<span class="string">&quot;æˆ˜ç•¥å¸ƒå±€&quot;</span>];</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(name, age, career, work);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> xiaoming = <span class="keyword">new</span> <span class="title class_">Factory</span>(<span class="string">&quot;å°æ˜&quot;</span>, <span class="string">&quot;18&quot;</span>, <span class="string">&quot;coder&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ½è±¡å·¥å‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MobileFactory</span> &#123;</span><br><span class="line">  <span class="title function_">createOS</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦è¦†å†™&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">createHardWare</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦è¦†å†™&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å…·ä½“å·¥å‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MIPhone</span> <span class="keyword">extends</span> <span class="title class_ inherited__">MobileFactory</span> &#123;</span><br><span class="line">  <span class="title function_">createOS</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Android</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">createHardWare</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MediaTek</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¡¬ä»¶</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HandWare</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰‹æœºç¡¬ä»¶çš„å…±æ€§æ–¹æ³•ï¼Œè¿™é‡Œæå–äº†â€œæ ¹æ®å‘½ä»¤è¿è½¬â€è¿™ä¸ªå…±æ€§</span></span><br><span class="line">  <span class="title function_">operateByOrder</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦è¦†å†™&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Qualcomm</span> <span class="keyword">extends</span> <span class="title class_ inherited__">HandWare</span> &#123;</span><br><span class="line">  <span class="title function_">operateByOrder</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä»¥é«˜é€šçš„æ–¹å¼æ“ä½œç¡¬ä»¶æŒ‡ä»¤&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MediaTek</span> <span class="keyword">extends</span> <span class="title class_ inherited__">HandWare</span> &#123;</span><br><span class="line">  <span class="title function_">operateByOrder</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä»¥è”å‘ç§‘çš„æ–¹å¼æ“ä½œç¡¬ä»¶æŒ‡ä»¤&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è½¯ä»¶</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OS</span> &#123;</span><br><span class="line">  <span class="title function_">controlHardWare</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦è¦†å†™&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Android</span> <span class="keyword">extends</span> <span class="title class_ inherited__">OS</span> &#123;</span><br><span class="line">  <span class="title function_">controlHardWare</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä»¥å®‰å“çš„æ–¹å¼æ§åˆ¶ç¡¬ä»¶&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CentOS</span> <span class="keyword">extends</span> <span class="title class_ inherited__">OS</span> &#123;</span><br><span class="line">  <span class="title function_">controlHardWare</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä»¥è‹¹æœçš„æ–¹å¼æ§åˆ¶ç¡¬ä»¶&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myPhone = <span class="keyword">new</span> <span class="title class_">MIPhone</span>();</span><br><span class="line"><span class="comment">// åˆ›å»ºç¡¬ä»¶</span></span><br><span class="line"><span class="keyword">const</span> myHardWare = myPhone.<span class="title function_">createHardWare</span>();</span><br><span class="line"><span class="comment">// åˆ›å»ºç³»ç»Ÿ</span></span><br><span class="line"><span class="keyword">const</span> myOs = myPhone.<span class="title function_">createOS</span>();</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–ç¡¬ä»¶</span></span><br><span class="line">myHardWare.<span class="title function_">operateByOrder</span>();</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–è½¯ä»¶</span></span><br><span class="line">myOs.<span class="title function_">controlHardWare</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°ç»“</p>
<ul>
<li><p>å·¥å‚æ¨¡å¼æ˜¯å°†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹è¿›è¡Œå°è£…ï¼Œæ„é€ å‡½æ•°åƒå·¥å‚ä¸€æ ·å¤„ç†å’Œèµ‹å€¼æ•°æ®ï¼Œåˆ›å»ºæ–°å¯¹è±¡åªéœ€è¦ä¼ å‚å³å¯</p>
</li>
<li><p>å¼€æ”¾å°é—­åŸåˆ™ï¼šå¯¹æ‹“å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚è½¯ä»¶çš„å®ä½“ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œå‡½æ•°ï¼‰å¯ä»¥æ‰©å±•ã€‚ä½†æ˜¯ä¸å¯ä»¥ä¿®æ”¹</p>
</li>
<li><p>æŠ½è±¡å·¥å‚æ¨¡å¼å…³é”®è§’è‰²</p>
<!-- // ä¸èƒ½ç”¨äºç”Ÿæˆå…·ä½“å®ä¾‹ï¼Œä¸åšå…·ä½“çš„äº‹ï¼Œç”¨äºç»™å…·ä½“ï¼ˆç®€å•ï¼‰å·¥å‚å®šè§„çŸ©ä¾›å…¶éµå®ˆå’Œä½¿ç”¨ -->

<ul>
<li>æŠ½è±¡å·¥å‚ï¼šç”¨äºå£°æ˜æœ€ç»ˆç›®æ ‡äº§å“çš„å…±æ€§ã€‚æŠ½è±¡å·¥å‚å¯ä»¥æœ‰å¤šä¸ªï¼Œæ¯ä¸€ä¸ªæŠ½è±¡å·¥å‚å¯ä»¥å¯¹åº”ä¸€ç±»çš„äº§å“ï¼Œç§°ä¸ºâ€äº§å“æ—â€</li>
<li>å…·ä½“å·¥å‚ï¼šç»§æ‰¿äºæŠ½è±¡å·¥å‚ï¼Œç”¨äºå®ç°æŠ½è±¡å·¥å‚ä¸­å®šä¹‰å¥½çš„æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºå…·ä½“äº§å“çš„ç±»</li>
<li>æŠ½è±¡äº§å“ï¼šå…·ä½“å·¥å‚é‡Œå®ç°çš„æ¥å£ä¼šä¾èµ–ä¸€äº›ç±»ï¼Œè¿™äº›ç±»å¯¹åº”å„ç§ä¸åŒçš„äº§å“ï¼Œå°†è¿™äº›äº§å“çš„å…±æ€§æŠ½ç¦»å‡ºæ¥ï¼Œä¾¿å¯¹åº”åˆ°äº†å„è‡ªçš„æŠ½è±¡äº§å“ç±»</li>
<li>å…·ä½“äº§å“ï¼šç”¨äºç”Ÿæˆäº§å“æ—é‡Œä¸€ä¸ªå…·ä½“çš„äº§å“æ‰€ä¾èµ–çš„æ›´ç»†åŒ–çš„äº§å“ï¼Œå¦‚ï¼šæ“ä½œç³»ç»Ÿç±»ä¸­çš„å®‰å“ç³»ç»Ÿï¼Œç¡¬ä»¶ç±»çš„é«˜é€šç­‰</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼ *"></a>å•ä¾‹æ¨¡å¼ *</h4><ul>
<li><p>æ¦‚å¿µæ¡ˆä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‚è½½classä¸Š</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Food</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getInstance</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Food</span>.<span class="property">instance</span>) &#123;</span><br><span class="line">      <span class="title class_">Food</span>.<span class="property">instance</span> = <span class="keyword">new</span> <span class="title class_">Food</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Food</span>.<span class="property">instance</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Food</span>.<span class="title function_">getInstance</span>();</span><br><span class="line"><span class="title class_">Food</span>.<span class="title function_">getInstance</span>();</span><br><span class="line"><span class="comment">// ç”¨é—­åŒ…çš„å½¢å¼</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fruit</span> &#123;&#125;</span><br><span class="line"><span class="title class_">Fruit</span>.<span class="property">getInstance</span> = (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> instance = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!instance) &#123;</span><br><span class="line">      instance = <span class="keyword">new</span> <span class="title class_">Fruit</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="title class_">Fruit</span>.<span class="title function_">getInstance</span>();</span><br><span class="line"><span class="title class_">Fruit</span>.<span class="title function_">getInstance</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿäº§æ¡ˆä¾‹</p>
<ul>
<li><p>å®ç°ä¸€ä¸ª Storage</p>
<ul>
<li><p>ES6 ç‰ˆæœ¬</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Storage</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getInstance</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Storage</span>.<span class="property">instance</span>) &#123;</span><br><span class="line">      <span class="title class_">Storage</span>.<span class="property">instance</span> = <span class="keyword">new</span> <span class="title class_">Storage</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Storage</span>.<span class="property">instance</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getItem</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">setItem</span>(<span class="params">key, value</span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key, value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> storage1 = <span class="title class_">Storage</span>.<span class="title function_">getInstance</span>();</span><br><span class="line">storage1.<span class="title function_">setItem</span>(<span class="string">&quot;num&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">const</span> storage2 = <span class="title class_">Storage</span>.<span class="title function_">getInstance</span>();</span><br><span class="line">storage2.<span class="title function_">getItem</span>(<span class="string">&quot;num&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES5 é—­åŒ…ç‰ˆæœ¬</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">StorageMethod</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="title class_">StorageMethod</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getItem</span> = <span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">StorageMethod</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">setItem</span> = <span class="function">(<span class="params">key, value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key, value);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Storage</span> = (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> instance;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!instance) &#123;</span><br><span class="line">      instance = <span class="keyword">new</span> <span class="title class_">StorageMethod</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="keyword">const</span> storage1 = <span class="title class_">Storage</span>();</span><br><span class="line">storage1.<span class="title function_">setItem</span>(<span class="string">&quot;num&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">const</span> storage2 = <span class="title class_">Storage</span>();</span><br><span class="line">storage2.<span class="title function_">getItem</span>(<span class="string">&quot;num&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>å®ç°ä¸€ä¸ªå•ä¾‹æ¨¡æ€æ¡†</p>
<ul>
<li><p>ES6 ç‰ˆæœ¬</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#dialog</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#cccccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Model</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getInstance</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Model</span>.<span class="property">instance</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> dialogDom = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">      dialogDom.<span class="title function_">setAttribute</span>(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;dialog&quot;</span>);</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(dialogDom);</span><br><span class="line">      <span class="title class_">Model</span>.<span class="property">instance</span> = <span class="keyword">new</span> <span class="title class_">Model</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Model</span>.<span class="property">instance</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">show</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#dialog&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;initial&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">hide</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#dialog&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> model1 = <span class="title class_">Model</span>.<span class="title function_">getInstance</span>();</span><br><span class="line">model1.<span class="title function_">show</span>();</span><br><span class="line"><span class="keyword">const</span> model2 = <span class="title class_">Model</span>.<span class="title function_">getInstance</span>();</span><br><span class="line">model1.<span class="title function_">hide</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>é—­åŒ…ç‰ˆæœ¬</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ModelMethod</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="title class_">ModelMethod</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">show</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#dialog&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;initial&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">ModelMethod</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">hide</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#dialog&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Model</span> = (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> instance;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!instance) &#123;</span><br><span class="line">      <span class="keyword">let</span> dialogDom = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">      dialogDom.<span class="title function_">setAttribute</span>(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;dialog&quot;</span>);</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(dialogDom);</span><br><span class="line"></span><br><span class="line">      instance = <span class="keyword">new</span> <span class="title class_">ModelMethod</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> model1 = <span class="title class_">Model</span>();</span><br><span class="line">model1.<span class="title function_">show</span>();</span><br><span class="line"><span class="keyword">const</span> model2 = <span class="title class_">Model</span>();</span><br><span class="line">model2.<span class="title function_">hide</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>å°ç»“</p>
<ul>
<li>ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ï¼Œè¿™æ ·çš„æ¨¡å¼å°±å«åšå•ä¾‹æ¨¡å¼</li>
</ul>
</li>
</ul>
<h4 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼ *"></a>åŸå‹æ¨¡å¼ *</h4><ul>
<li><p>ç”Ÿäº§æ¡ˆä¾‹</p>
<ul>
<li><p>å¯¹è±¡çš„æ·±æ‹·è´</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">DeepClone</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœå±æ€§æ˜¯å€¼ç›´æ¥è¿”å›</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span> || obj === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å®šä¹‰å¤åˆ¶çš„å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> copyData = obj.<span class="property">constructor</span> === <span class="title class_">Array</span> ? [] : &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      copyData[key] = <span class="title class_">DeepClone</span>(obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> copyData;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>å°ç»“</p>
<ul>
<li>åŸå‹æ¨¡å¼å…¶å®æ˜¯åœ¨è°ˆåŸå‹èŒƒå¼ï¼ŒåŸå‹ç¼–ç¨‹èŒƒå¼çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯åˆ©ç”¨å®ä¾‹æ¥ä½œä¸ºå®šä¹‰å¯¹è±¡å’Œç»§æ‰¿çš„åŸºç¡€ï¼Œåœ¨ JS ä¸­åŸå‹ç¼–ç¨‹èŒƒå¼çš„ä½“ç°åœ¨åŸºäºåŸå‹é“¾çš„ç»§æ‰¿</li>
<li>JS æ˜¯ä¸€é—¨ä»¥åŸå‹ä¸ºä¸­å¿ƒçš„è¯­è¨€ï¼ŒES6 çš„ class åªæ˜¯åŸå‹æ¨¡å¼è¯­æ³•ç³–ã€‚<ul>
<li>ä¸€ä¸ªæ„é€ å‡½æ•°æœ‰ä¸€ä¸ª prototype å±æ€§ æŒ‡å‘åŸå‹å¯¹è±¡ã€‚æ„é€ å‡½æ•° new çš„å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œå…¶ <strong>proto</strong> å±æ€§ä¹ŸæŒ‡å‘åŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡çš„ constructor å±æ€§å†æŒ‡å›æ„é€ å‡½æ•°ï¼›<a href="/img/posts/240226/001.jpg" class="gallery-item" style="box-shadow: none;"> <img src="/img/posts/240226/001.jpg" style="min-width:200px"/></a></li>
<li>å½“å®ä¾‹åŒ–çš„å¯¹è±¡è®¿é—®è‡ªèº«å±æ€§å’Œæ–¹æ³•æ—¶ï¼Œå¦‚æœå®ä¾‹è‡ªèº«æœªå®šä¹‰æ—¶ï¼Œé‚£ä¹ˆå°±ä¼šå»æœç´¢å®ä¾‹çš„åŸå‹å¯¹è±¡ï¼Œå¦‚æœä¹Ÿä¸ºå®šä¹‰ï¼Œé‚£ä¹ˆå°±ä¼šæœç´¢åŸå‹å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼Œä»è€Œå½¢æˆä¸€æ¡å«â€œåŸå‹é“¾â€çš„æœç´¢è½¨è¿¹<a href="/img/posts/240226/002.jpg" class="gallery-item" style="box-shadow: none;"> <img src="/img/posts/240226/002.jpg" style="min-width:200px"/></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="ç»“æ„å‹"><a href="#ç»“æ„å‹" class="headerlink" title="ç»“æ„å‹"></a>ç»“æ„å‹</h3><h4 id="è£…é¥°å™¨æ¨¡å¼"><a href="#è£…é¥°å™¨æ¨¡å¼" class="headerlink" title="è£…é¥°å™¨æ¨¡å¼ *"></a>è£…é¥°å™¨æ¨¡å¼ *</h4><ul>
<li><p>æ¦‚å¿µæ¡ˆä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6ä¸­çš„ä¿®é¥°å™¨</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Model</span> = (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> model = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!model)&#123;</span><br><span class="line">      model = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>)</span><br><span class="line">      model.<span class="property">innerHtml</span> = <span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—&quot;</span></span><br><span class="line">      model.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span></span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(model)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> model</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaseModel</span> &#123;</span><br><span class="line">  <span class="title function_">onCreate</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> model = <span class="keyword">new</span> <span class="title class_">Model</span>()</span><br><span class="line">    model.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Decorators</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">baseClass</span>)&#123;</span><br><span class="line">    <span class="comment">// å°†åŸºç±»èµ‹å€¼åˆ°è¯¥è£…é¥°å™¨ä¸­</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">model</span> = baseClass</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">onClick</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">model</span>.<span class="title function_">onCreate</span>():</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">changeButtonStatus</span>();</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">changeButtonStatus</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">changeColor</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">disableButton</span>();</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">changeColor</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelect</span>(<span class="string">&quot;#openBtn&quot;</span>);</span><br><span class="line">    btn.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&quot;gray&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">disableButton</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelect</span>(<span class="string">&quot;#openBtn&quot;</span>);</span><br><span class="line">    btn.<span class="title function_">setAttribute</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> baseModel = <span class="keyword">new</span> <span class="title class_">BaseModel</span>();</span><br><span class="line"><span class="keyword">const</span> completeModel = <span class="keyword">new</span> <span class="title class_">Decorators</span>(baseModel); <span class="comment">// å°†åŸºç±»ä¼ é€’ç»™è£…é¥°å™¨</span></span><br><span class="line">completeModel.<span class="title function_">onClick</span>();</span><br></pre></td></tr></table></figure>

<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TSä¸­çš„è£…é¥°å™¨</span></span><br><span class="line"><span class="comment">// 1. ä¿®é¥°ç±»</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">classDecorator</span>(<span class="params">target</span>) &#123;</span><br><span class="line">  target.<span class="property">hasDecorator</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@classDecorator</span> <span class="comment">// ä½¿ç”¨classDecoratorä¿®é¥°äº†Buttonï¼Œtargetä¸ºButtonæœ¬èº«</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span> &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Button</span>.<span class="property">hasDecorator</span>); <span class="comment">// ç»“æœä¸ºtrue è¯æ˜å·²è¢«ä¿®é¥°</span></span><br><span class="line"><span class="comment">// 2. ä¿®é¥°ç±»ä¸­çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">funDecorator</span>(<span class="params">target, name, desciptor</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> originMethod = desciptor.<span class="property">value</span>;</span><br><span class="line">  desciptor.<span class="property">value</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ä»¥ä¸‹éƒ¨åˆ†æ˜¯æˆ‘åœ¨è£…é¥°è¯¥æ–¹æ³•</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æˆ‘æ¶¦è‰²äº†åˆ—è¡¨æ•°æ®&quot;</span>);</span><br><span class="line">    <span class="comment">// --------end-------</span></span><br><span class="line">    <span class="keyword">return</span> originMethod.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Table</span> &#123;</span><br><span class="line">  <span class="meta">@funDecorator</span> <span class="comment">// ä½¿ç”¨funDecoratorä¿®é¥°äº†generateListæ–¹æ³•</span></span><br><span class="line">  <span class="title function_">generateList</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æˆ‘ç”Ÿæˆäº†åˆ—è¡¨&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// funDecoratorä¸­çš„targetä¸ºTableçš„prototypeï¼Œä½†æ˜¯æˆ‘ä»¬ä¿®é¥°çš„æ—¶å€™ï¼ŒåŸå‹ä¸­çš„generateListè¿˜æœªç”Ÿæˆï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨äº†desciptorï¼ˆæè¿°å¯¹è±¡ï¼‰ä¸­çš„valueå€¼ä¹Ÿå°±æ˜¯è¢«ä¿®é¥°çš„æ–¹æ³•æœ¬èº«åšäº†å¤„ç†</span></span><br><span class="line"><span class="comment">// ä¿®é¥°æ–¹æ³•æ—¶targetä¸ºTableçš„prototype</span></span><br><span class="line"><span class="comment">// nameå€¼ä¸ºæˆ‘ä»¬ä¿®é¥°çš„ç›®æ ‡å±æ€§çš„æ–¹æ³•å</span></span><br><span class="line"><span class="comment">// desciptoræ˜¯å±æ€§æè¿°å¯¹è±¡ï¼ŒåŒObject.defineProperty(obj, prop, descriptor)ä¸­çš„æ¦‚å¿µä¸€è‡´,å¦‚ï¼š</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="string">&quot;xiaoming&quot;</span>,</span><br><span class="line">  <span class="attr">wiritable</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&quot;xiaohong&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>); <span class="comment">// è¾“å‡ºä¸ºxiaoming</span></span><br><span class="line"><span class="comment">//   - æ•°æ®æè¿°ç¬¦å·:value(å­˜æ”¾å±æ€§å€¼)ï¼Œwritable(å±æ€§æ˜¯å¦å¯å˜)ï¼Œenumerableï¼ˆæ˜¯å¦å¯æšä¸¾ï¼‰</span></span><br><span class="line"><span class="comment">//   - å­˜å–æè¿°ç¬¦å·:getæ–¹æ³•(è®¿é—®å±æ€§æ—¶çš„è°ƒç”¨æ–¹æ³•)ï¼Œsetæ–¹æ³•ï¼ˆè®¾ç½®å±æ€§æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼‰</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿäº§æ¡ˆä¾‹</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// reacté«˜é˜¶ç»„ä»¶</span></span><br><span class="line"><span class="comment">// BorderHocæ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">BorderHoc</span> = <span class="title class_">WrappedComponent</span> =&gt; <span class="keyword">class</span> <span class="title class_">extends</span> <span class="title class_">Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&#123;&#123;</span> <span class="attr">border:</span> &#x27;<span class="attr">solid</span> <span class="attr">1px</span> <span class="attr">red</span>&#x27; &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">WrappedComponent</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">BorderHoc</span></span><br><span class="line"><span class="comment">// TargetComponentæ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">BorderHoc</span> <span class="keyword">from</span> <span class="string">&#x27;./BorderHoc&#x27;</span></span><br><span class="line">@<span class="title class_">BorderHoc</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TargetComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">TargetComponent</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°ç»“</p>
<ul>
<li>è£…é¥°å™¨æ¨¡å¼ï¼Œåˆåè£…é¥°è€…æ¨¡å¼ã€‚å®ƒçš„å®šä¹‰æ˜¯â€œåœ¨ä¸æ”¹å˜åŸå¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¯¹å…¶è¿›è¡ŒåŒ…è£…æ‹“å±•ï¼Œä½¿åŸæœ‰å¯¹è±¡å¯ä»¥æ»¡è¶³ç”¨æˆ·çš„æ›´å¤æ‚éœ€æ±‚â€</li>
</ul>
</li>
</ul>
<h4 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h4><ul>
<li><p>ç”Ÿäº§æ¡ˆä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// axios åœ¨nodeç¯å¢ƒå’Œhttpç¯å¢ƒéƒ½å¯ä»¥ä½¿ç”¨ï¼Œå®ƒä»¬çš„é€‚é…æ–¹æ¡ˆ</span></span><br><span class="line"><span class="comment">// nodeç¯å¢ƒdispatchXhrRequesté€‚é…å™¨</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> <span class="title function_">xhrAdapter</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> <span class="title function_">dispatchXhrRequest</span>(<span class="params"></span></span><br><span class="line"><span class="params">    resolvePromise,</span></span><br><span class="line"><span class="params">    rejectPromise</span></span><br><span class="line"><span class="params">  </span>) &#123;</span><br><span class="line">    <span class="comment">// å…·ä½“é€»è¾‘</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// httpç¯å¢ƒdispatchHttpRequesté€‚é…å™¨</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> <span class="title function_">httpAdapter</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> <span class="title function_">dispatchHttpRequest</span>(<span class="params"></span></span><br><span class="line"><span class="params">    resolvePromise,</span></span><br><span class="line"><span class="params">    rejectPromise</span></span><br><span class="line"><span class="params">  </span>) &#123;</span><br><span class="line">    <span class="comment">// å…·ä½“é€»è¾‘</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è·å–é€‚é…å™¨</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDefalutAdaptor</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> adapter;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯nodeç¯å¢ƒ</span></span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    <span class="keyword">typeof</span> process !== <span class="string">&quot;undefined&quot;</span> &amp;&amp;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(process) === <span class="string">&quot;[object process]&quot;</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯nodeç¯å¢ƒï¼Œè°ƒç”¨nodeä¸“å±çš„httpé€‚é…å™¨</span></span><br><span class="line">    adapter = <span class="built_in">require</span>(<span class="string">&quot;./adapters/http&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="title class_">XMLHttpRequest</span> !== <span class="string">&quot;undefined&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œè°ƒç”¨åŸºäºxhrçš„é€‚é…å™¨</span></span><br><span class="line">    adapter = <span class="built_in">require</span>(<span class="string">&quot;./adapters/xhr&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> adapter;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// dispatchXhrRequesté€‚é…å™¨å’ŒdispatchHttpRequesté€‚é…å™¨ä»–ä»¬çš„å…¥å‚éƒ½æ˜¯configå‡ºå‚æ˜¯Promiseï¼Œåœ¨å…¶å†…éƒ¨åšäº†å¤æ‚çš„é€‚é…å¤„ç†ï¼ŒæŠŠå˜åŒ–ç•™ç»™äº†è‡ªå·±ï¼Œç»Ÿä¸€ç•™ç»™ç”¨æˆ·</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°ç»“</p>
<ul>
<li>ä¸»è¦ç”¨æ¥è§£å†³ â€œæ¥å£ä¸å…¼å®¹â€ çš„é—®é¢˜ï¼Œå®ƒé€šè¿‡åˆ›å»ºä¸€ä¸ªé€‚é…å™¨ç±»æ¥å°è£…åŸæœ‰çš„ç±»ï¼Œå¹¶æä¾›ä¸€ä¸ªæ–°çš„æ¥å£ï¼Œä»¥ä¾›å®¢æˆ·ç«¯ä½¿ç”¨</li>
<li>é€‚é…å™¨çš„è‡ªæˆ‘ä¿®å…»åœ¨äºæŠŠå˜åŒ–ç•™ç»™è‡ªå·±ï¼ŒæŠŠç»Ÿä¸€ç•™ç»™ç”¨æˆ·ã€‚</li>
</ul>
</li>
</ul>
<h4 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼ *"></a>ä»£ç†æ¨¡å¼ *</h4><ul>
<li><p>æ¦‚å¿µæ¡ˆä¾‹ *</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const porxy = new Proxy(); ES6 Proxyä»£ç†å™¨ , ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç›®æ ‡å¯¹è±¡ï¼Œhandleræ˜¯ä¸€ä¸ªç”¨æ¥å®šä¹‰ä»£ç†è¡Œä¸ºçš„å¯¹è±¡ï¼Œå½“é€šè¿‡proxyå»è®¿é—®å¯¹è±¡æ—¶ï¼Œhandlerä¼šå¯¹æˆ‘ä»¬çš„è¡Œä¸ºä½œä¸€å±‚ä¸­è½¬ï¼Œæ¯æ¬¡è®¿é—®éƒ½ä¼šç»è¿‡handler</span></span><br><span class="line"><span class="comment">// å©šå§»ä»‹ç»æ‰€æ¡ˆä¾‹</span></span><br><span class="line"><span class="keyword">const</span> girl = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;xiaomei&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="string">&quot;22&quot;</span>,</span><br><span class="line">  <span class="attr">phone</span>: <span class="string">&quot;155*******&quot;</span>,</span><br><span class="line">  <span class="attr">city</span>: <span class="string">&quot;**&quot;</span>,</span><br><span class="line">  <span class="attr">minGift</span>: <span class="number">50</span>,</span><br><span class="line">  <span class="attr">receivedGift</span>: [],</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> baseInfo = [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>];</span><br><span class="line"><span class="comment">// å½“å‰ç”¨æˆ·</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;xiaoming&quot;</span>,</span><br><span class="line">  <span class="attr">isVip</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">isValidated</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> girlPorxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(girl, &#123;</span><br><span class="line">  <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params">target, key</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!user.<span class="property">isValidated</span>) &#123;</span><br><span class="line">      <span class="title function_">alert</span>(<span class="string">&quot;æ‚¨å½“å‰è¿˜æœªå®ŒæˆéªŒè¯,è¯·å…ˆéªŒè¯&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!baseInfo.<span class="title function_">includes</span>(key) &amp;&amp; !user.<span class="property">isVip</span>) &#123;</span><br><span class="line">      <span class="title function_">alert</span>(<span class="string">&quot;è·å–æ›´å¤šä¿¡æ¯ï¼Œéœ€è¦é«˜çº§ä¼šå‘˜&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target[key];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">target, key, obj</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (target.<span class="property">minGift</span> &gt; obj.<span class="property">value</span>) &#123;</span><br><span class="line">      <span class="title function_">alert</span>(<span class="string">&quot;å½“å‰èµ é€çš„ç¤¼ç‰©å°äºå¥³ç”Ÿæœ€å°æœŸæœ›å€¼&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    target.<span class="property">receivedGift</span>.<span class="title function_">push</span>(obj);</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;ç¤¼ç‰©èµ é€æˆåŠŸ&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿäº§æ¡ˆä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å›¾ç‰‡åŠ è½½è®¾ç½®é»˜è®¤å›¾å ä½é¢„åŠ è½½</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PreImage</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">targetImg</span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–domæ“ä½œ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">imgNode</span> = targetImg;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">setSrc</span>(<span class="params">src</span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–åœ°å€æ“ä½œ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">imgNode</span>.<span class="property">src</span> = src;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProxyImage</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> baseImgSrc = <span class="string">&quot;https://xxxx/xxx.png&quot;</span>;</span><br><span class="line">  <span class="title function_">construtor</span>(<span class="params">preImage</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">preImage</span> = preImage;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">setSrc</span>(<span class="params">src</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">preImage</span>.<span class="title function_">setSrc</span>(baseImgSrc); <span class="comment">// è®¾ç½®å ä½å›¾</span></span><br><span class="line">    <span class="keyword">let</span> virtualImage = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">    virtualImage.<span class="property">src</span> = src;</span><br><span class="line">    virtualImage.<span class="property">onload</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">preImage</span>.<span class="title function_">setSrc</span>(src);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> images = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.p-img&quot;</span>);</span><br><span class="line"></span><br><span class="line">images.<span class="title function_">forEach</span>(<span class="function">(<span class="params">img, idx</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">setTimeOut</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> preImage = <span class="keyword">new</span> <span class="title class_">PreImage</span>(img);</span><br><span class="line">    <span class="keyword">const</span> proxyImage = <span class="keyword">new</span> <span class="title class_">ProxyImage</span>(preImage);</span><br><span class="line">    proxyImage.<span class="title function_">setSrc</span>(images[idx].<span class="property">psrc</span>); <span class="comment">// å°†å›¾ç‰‡é»˜è®¤æŒ‚è½½åˆ°è‡ªå®šä¹‰å±æ€§psrcä¸Šï¼Œé˜²æ­¢å‡ºé—®é¢˜</span></span><br><span class="line">  &#125;, <span class="number">1000</span> * idx);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°ç»“</p>
<ul>
<li>ä»£ç†æ¨¡å¼ï¼Œå¼å¦‚å…¶åâ€”â€”åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå‡ºäºç§ç§è€ƒè™‘ &#x2F; é™åˆ¶ï¼Œä¸€ä¸ªå¯¹è±¡ä¸èƒ½ç›´æ¥è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦ä¸€ä¸ªç¬¬ä¸‰è€…ï¼ˆä»£ç†ï¼‰ç‰µçº¿æ­æ¡¥ä»è€Œé—´æ¥è¾¾åˆ°è®¿é—®ç›®çš„ï¼Œè¿™æ ·çš„æ¨¡å¼å°±æ˜¯ä»£ç†æ¨¡å¼ã€‚</li>
</ul>
</li>
</ul>
<h3 id="è¡Œä¸ºå‹"><a href="#è¡Œä¸ºå‹" class="headerlink" title="è¡Œä¸ºå‹"></a>è¡Œä¸ºå‹</h3><h4 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h4><ul>
<li><p>æ¦‚å¿µæ¡ˆä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¿ƒé”€æ´»åŠ¨</span></span><br><span class="line"><span class="keyword">const</span> processPrice = &#123;</span><br><span class="line">  <span class="title function_">pre</span>(<span class="params">originPrice</span>)&#123;<span class="comment">// é¢„çƒ­ä»·</span></span><br><span class="line">    <span class="keyword">if</span> (originPrice &gt;= <span class="number">100</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> originPrice - <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> originPrice * <span class="number">0.9</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onSale</span>(<span class="params">originPrice</span>)&#123;<span class="comment">// å¤§ä¿ƒä»·</span></span><br><span class="line">     <span class="keyword">if</span> (originPrice &gt;= <span class="number">100</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> originPrice - <span class="number">30</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> originPrice * <span class="number">0.8</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">back</span>(<span class="params">originPrice</span>) &#123;<span class="comment">// è¿”å‚ä»·</span></span><br><span class="line">    <span class="keyword">if</span> (originPrice &gt;= <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> originPrice - <span class="number">50</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> originPrice;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">askPrice</span>(<span class="params">tag,originPrice</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> processPrice[tag](originPrice)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°ç»“</p>
<ul>
<li>ç­–ç•¥æ¨¡å¼å®šä¹‰ï¼šå®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ç›¸äº’æ›¿æ¢ã€‚</li>
</ul>
</li>
</ul>
<h4 id="çŠ¶æ€æ¨¡å¼"><a href="#çŠ¶æ€æ¨¡å¼" class="headerlink" title="çŠ¶æ€æ¨¡å¼"></a>çŠ¶æ€æ¨¡å¼</h4><ul>
<li><p>æ¦‚å¿µæ¡ˆä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å’–å•¡æœºçŠ¶æ€æ¡ˆä¾‹</span></span><br><span class="line"><span class="keyword">const</span> stateProcess = &#123;</span><br><span class="line">  <span class="title function_">american</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = [];</span><br><span class="line">    result.<span class="title function_">push</span>(<span class="string">&quot;é»‘å’–å•¡&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">latte</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = [];</span><br><span class="line">    <span class="keyword">const</span> american = <span class="variable language_">this</span>.<span class="title function_">american</span>();</span><br><span class="line">    result.<span class="title function_">push</span>(...american);</span><br><span class="line">    result.<span class="title function_">push</span>(<span class="string">&quot;ç‰›å¥¶&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">vanillaLatte</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = [];</span><br><span class="line">    <span class="keyword">const</span> latte = <span class="variable language_">this</span>.<span class="title function_">latte</span>();</span><br><span class="line">    result.<span class="title function_">push</span>(...latte);</span><br><span class="line">    result.<span class="title function_">push</span>(<span class="string">&quot;é¦™è‰ç³–æµ†&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">mocha</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = [];</span><br><span class="line">    <span class="keyword">const</span> latte = <span class="variable language_">this</span>.<span class="title function_">latte</span>();</span><br><span class="line">    result.<span class="title function_">push</span>(...latte);</span><br><span class="line">    result.<span class="title function_">push</span>(<span class="string">&quot;å·§å…‹åŠ›&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CoffeeMachine</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å°†åŸºç±»èµ‹å€¼åˆ°è¯¥è£…é¥°å™¨ä¸­</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">&quot;init&quot;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">result</span> = [];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">changeState</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = state;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">result</span> = stateProcess[state]();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getResult</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">result</span>.<span class="title function_">join</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> machine = <span class="keyword">new</span> <span class="title class_">CoffeeMachine</span>();</span><br><span class="line">machine.<span class="title function_">changeState</span>(<span class="string">&quot;vanillaLatte&quot;</span>);</span><br><span class="line">machine.<span class="title function_">getResult</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°ç»“</p>
<ul>
<li>çŠ¶æ€æ¨¡å¼ä¸»è¦è§£å†³çš„æ˜¯å½“æ§åˆ¶ä¸€ä¸ªå¯¹è±¡çŠ¶æ€çš„æ¡ä»¶è¡¨è¾¾å¼è¿‡äºå¤æ‚æ—¶çš„æƒ…å†µã€‚æŠŠçŠ¶æ€çš„åˆ¤æ–­é€»è¾‘è½¬ç§»åˆ°è¡¨ç¤ºä¸åŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç±»ä¸­ï¼Œå¯ä»¥æŠŠå¤æ‚çš„åˆ¤æ–­é€»è¾‘ç®€åŒ–ã€‚</li>
<li>çŠ¶æ€æ¨¡å¼ (State Pattern) ï¼šå…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚</li>
</ul>
</li>
</ul>
<h4 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼ **"></a>è§‚å¯Ÿè€…æ¨¡å¼ **</h4><ul>
<li><p>æ¦‚å¿µæ¡ˆä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šç”¨å‘å¸ƒè€…è®¢é˜…è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Publish</span> &#123;</span><br><span class="line">  <span class="comment">// å‘å¸ƒè€…</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observer</span> = [];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ·»åŠ è®¢é˜…è€…</span></span><br><span class="line">  <span class="title function_">addOb</span>(<span class="params">ob</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">push</span>(ob);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// åˆ é™¤è®¢é˜…è€…</span></span><br><span class="line">  <span class="title function_">delOb</span>(<span class="params">ob</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, idx</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (item === ob) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">splice</span>(idx, <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">notify</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, idx</span>) =&gt;</span> &#123;</span><br><span class="line">      item.<span class="title function_">update</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">  <span class="comment">// è®¢é˜…è€…</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ‹¿åˆ°publishååšä¸€äº›æ“ä½œ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº§å“ç»ç†é€šçŸ¥ç¨‹åºå‘˜æ¨¡å¼</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PrdPublish</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Publish</span> &#123;</span><br><span class="line">  <span class="comment">// äº§å“æ–‡æ¡£å‘å¸ƒè€…</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">prdState</span> = &#123;&#125;; <span class="comment">// äº§å“æ–‡æ¡£çŠ¶æ€</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getState</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–åˆ°æœ€æ–°çš„äº§å“æ–‡æ¡£çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">prdState</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">setState</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">prdState</span> = state;</span><br><span class="line">    <span class="comment">// å½“æ•°æ®æ”¹å˜çš„æ—¶å€™é€šçŸ¥æ‰€æœ‰äº§å“æ–‡æ¡£å‘å¸ƒè€…</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">notify</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PrdObserver</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Observer</span> &#123;</span><br><span class="line">  <span class="comment">// äº§å“æ–‡æ¡£å‘å¸ƒè€…</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">prdState</span> = &#123;&#125;; <span class="comment">// äº§å“æ–‡æ¡£çŠ¶æ€</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">update</span>(<span class="params">publisher</span>) &#123;</span><br><span class="line">    <span class="comment">// æ‹¿åˆ°publishååä¸€äº›æ“ä½œ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">prdState</span> = publisher.<span class="title function_">getState</span>();</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">work</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">work</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="variable language_">this</span>.<span class="property">prdState</span>;</span><br><span class="line">    <span class="comment">// å¼€å§‹æ‹¿åˆ°æ•°æ®åçš„å·¥ä½œ</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot;å¼€å§‹å·¥ä½œäº†,æ•°æ®æ˜¯&quot;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> prdA = <span class="keyword">new</span> <span class="title class_">PrdPublish</span>();</span><br><span class="line"><span class="keyword">const</span> obA = <span class="keyword">new</span> <span class="title class_">PrdObserver</span>(<span class="string">&quot;obA&quot;</span>);</span><br><span class="line">prdA.<span class="title function_">addOb</span>(obA);</span><br><span class="line"><span class="keyword">const</span> obB = <span class="keyword">new</span> <span class="title class_">PrdObserver</span>(<span class="string">&quot;obB&quot;</span>);</span><br><span class="line">prdA.<span class="title function_">addOb</span>(obB);</span><br><span class="line"><span class="keyword">const</span> obC = <span class="keyword">new</span> <span class="title class_">PrdObserver</span>(<span class="string">&quot;obC&quot;</span>);</span><br><span class="line">prdA.<span class="title function_">addOb</span>(obC);</span><br><span class="line"></span><br><span class="line">prdA.<span class="title function_">setState</span>(&#123; <span class="attr">data</span>: &#123; <span class="attr">value</span>: <span class="number">1</span> &#125;, <span class="attr">ready</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ç‚¹ï¼šå‘å¸ƒè€…æ˜¯åœ¨æ•°æ®å‘ç”Ÿæ”¹å˜åå»é€šçŸ¥è®¢é˜…è€…ï¼Œè€Œä¸æ˜¯è·å–æ•°æ®çš„æ—¶å€™ï¼Œå‘å¸ƒè€…çš„è·å–æ•°æ®æ˜¯ä¸ºäº†ä¾›è®¢é˜…è€…ä½¿ç”¨æ¥è·å–æ•°æ®çš„ã€‚</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿäº§æ¡ˆä¾‹</p>
<ol>
<li>å®ç° observer (è§‚å¯Ÿè€…æ¨¡å¼)</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dep</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observer</span> = [];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params">sub</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">push</span>(sub);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">reduce</span>(<span class="params">sub</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, idx</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (item == sub) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">splice</span>(idx, <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">notify</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">sub</span>) =&gt;</span> &#123;</span><br><span class="line">      sub.<span class="title function_">update</span>(str);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sub</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  <span class="title function_">update</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">observer</span>(<span class="params">target</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (target &amp;&amp; <span class="keyword">typeof</span> target === <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">keys</span>(target).<span class="title function_">forEach</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">defineProperty</span>(target, key, target[key]); <span class="comment">// äº§ç”Ÿå“åº”</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dep = <span class="keyword">new</span> <span class="title class_">Dep</span>();</span><br><span class="line"><span class="keyword">let</span> sub = <span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">dep.<span class="title function_">add</span>(sub);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">defineProperty</span>(<span class="params">target, key, value</span>) &#123;</span><br><span class="line">  <span class="title function_">observer</span>(value); <span class="comment">// å¦‚æœå½“å‰æ˜¯å¯¹è±¡åˆ™é‡å¤å“åº”ï¼Œå¦åˆ™é€€å‡ºobserverå‡½æ•°</span></span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target, key, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">newValue</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> string1 = <span class="keyword">typeof</span> value == <span class="string">&quot;object&quot;</span> ? <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(value) : value;</span><br><span class="line">      value = newValue;</span><br><span class="line">      <span class="keyword">let</span> string2 =</span><br><span class="line">        <span class="keyword">typeof</span> newValue == <span class="string">&quot;object&quot;</span> ? <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(newValue) : newValue;</span><br><span class="line"></span><br><span class="line">      dep.<span class="title function_">notify</span>(<span class="string">&quot;è§¦å‘äº†ä¿®æ”¹&quot;</span> + string1 + <span class="string">&quot;æ”¹ä¸º&quot;</span> + string2);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: &#123; <span class="attr">b1</span>: <span class="string">&quot;b1&quot;</span>, <span class="attr">b2</span>: <span class="string">&quot;b2&quot;</span> &#125; &#125;;</span><br><span class="line"><span class="title function_">observer</span>(obj);</span><br><span class="line">obj.<span class="property">a</span> = <span class="number">2</span>;</span><br><span class="line">obj.<span class="property">b</span> = &#123; <span class="attr">c</span>: <span class="number">1</span> &#125;;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å®ç°ä¸€ä¸ª Event Bus&#x2F; Event Emitter (å‘å¸ƒè€…è®¢é˜…è€…æ¨¡å¼)</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">EventEmitter</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">handlers</span> = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">on</span>(<span class="params">eventName, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">handlers</span>[eventName]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">handlers</span>[eventName] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">handlers</span>[eventName].<span class="title function_">push</span>(cb);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">emit</span>(<span class="params">eventName, ...args</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">handlers</span>[eventName] || <span class="variable language_">this</span>.<span class="property">handlers</span>[eventName]?.<span class="property">length</span> === <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// è¿™é‡Œéœ€è¦å¯¹ this.handlers[eventName] åšä¸€æ¬¡æµ…æ‹·è´ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†é¿å…é€šè¿‡ once å®‰è£…çš„ç›‘å¬å™¨åœ¨ç§»é™¤çš„è¿‡ç¨‹ä¸­å‡ºç°é¡ºåºé—®é¢˜</span></span><br><span class="line">    <span class="keyword">const</span> callbacks = <span class="variable language_">this</span>.<span class="property">handlers</span>[eventName].<span class="title function_">slice</span>();</span><br><span class="line">    callbacks.<span class="title function_">forEach</span>(<span class="function">(<span class="params">callback</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">callback</span>(...args);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">off</span>(<span class="params">eventName, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> callbacks = <span class="variable language_">this</span>.<span class="property">handlers</span>[eventName];</span><br><span class="line">    <span class="keyword">if</span> (callbacks) &#123;</span><br><span class="line">      <span class="keyword">const</span> idx = callbacks.<span class="title function_">indexOf</span>(cb);</span><br><span class="line">      <span class="keyword">if</span> (idx != -<span class="number">1</span>) &#123;</span><br><span class="line">        callbacks.<span class="title function_">splice</span>(idx, <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">once</span>(<span class="params">eventName, cb</span>) &#123;</span><br><span class="line">    <span class="comment">// æ˜¯ä¸€ä¸ªæ¥æ”¶å™¨,æ¥å—ä¸€æ¬¡å€¼ä¾¿é”€æ¯</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">wrapper</span> = (<span class="params">...args</span>) =&gt; &#123;</span><br><span class="line">      <span class="comment">// å½“è°ƒç”¨emitä¼ é€’æ—¶å°±ä¼šè°ƒç”¨wrapperè§¦å‘ä¼ é€’åå†è§¦å‘é”€æ¯</span></span><br><span class="line">      <span class="title function_">cb</span>(...args);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">off</span>(eventName, wrapper);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">on</span>(eventName, wrapper);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°ç»“</p>
<ul>
<li>å­˜åœ¨å‘å¸ƒè€…ç›´æ¥è§¦åŠåˆ°è®¢é˜…è€…çš„æ“ä½œçš„æ¨¡å¼ï¼Œå«è§‚å¯Ÿè€…æ¨¡å¼</li>
<li>å‘å¸ƒè€…ä¸ç›´æ¥æ¥è§¦è®¢é˜…è€…ï¼Œè€Œæ˜¯ç”±ç»Ÿä¸€çš„ç¬¬ä¸‰æ–¹æ¥å®Œæˆå®é™…çš„æ“ä½œ,å«åšå‘å¸ƒ-è®¢é˜…æ¨¡å¼</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<ul>
<li>è§‚å¯Ÿè€…æ¨¡å¼ï¼šè§£å†³çš„å…¶å®æ˜¯æ¨¡å—é—´çš„è€¦åˆé—®é¢˜ï¼Œæœ‰å®ƒåœ¨ï¼Œå³ä¾¿æ˜¯ä¸¤ä¸ªåˆ†ç¦»çš„ã€æ¯«ä¸ç›¸å…³çš„æ¨¡å—ï¼Œä¹Ÿå¯ä»¥å®ç°æ•°æ®é€šä¿¡ã€‚ä½†è§‚å¯Ÿè€…æ¨¡å¼ä»…ä»…æ˜¯å‡å°‘äº†è€¦åˆï¼Œå¹¶æ²¡æœ‰å®Œå…¨åœ°è§£å†³è€¦åˆé—®é¢˜â€”â€”è¢«è§‚å¯Ÿè€…å¿…é¡»å»ç»´æŠ¤ä¸€å¥—è§‚å¯Ÿè€…çš„é›†åˆï¼Œè¿™äº›è§‚å¯Ÿè€…å¿…é¡»å®ç°ç»Ÿä¸€çš„æ–¹æ³•ä¾›è¢«è§‚å¯Ÿè€…è°ƒç”¨</li>
<li>å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼šå‘å¸ƒè€…å®Œå…¨ä¸ç”¨æ„ŸçŸ¥è®¢é˜…è€…ï¼Œä¸ç”¨å…³å¿ƒå®ƒæ€ä¹ˆå®ç°å›è°ƒæ–¹æ³•ï¼Œäº‹ä»¶çš„æ³¨å†Œå’Œè§¦å‘éƒ½å‘ç”Ÿåœ¨ç‹¬ç«‹äºåŒæ–¹çš„ç¬¬ä¸‰æ–¹å¹³å°ï¼ˆäº‹ä»¶æ€»çº¿ï¼‰ä¸Šã€‚å‘å¸ƒ-è®¢é˜…æ¨¡å¼ä¸‹ï¼Œå®ç°äº†å®Œå…¨åœ°è§£è€¦ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="è¿­ä»£å™¨æ¨¡å¼"><a href="#è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title="è¿­ä»£å™¨æ¨¡å¼ *"></a>è¿­ä»£å™¨æ¨¡å¼ *</h4><ul>
<li><p>æ¦‚å¿µæ¡ˆä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for of éå†æœ¬è´¨</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> len = arr.<span class="property">length</span>;</span><br><span class="line"><span class="keyword">for</span> (item <span class="keyword">of</span> arr) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å½“å‰å…ƒç´ æ˜¯<span class="subst">$&#123;item&#125;</span>`</span>);</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> iterator = arr2[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]();</span><br><span class="line"><span class="comment">// for ofå¯ä»¥éå†NodeList,Map,Array,Set...ç­‰çš„æœ¬è´¨æ˜¯å€ŸåŠ©äº†æ•°ç»„çš„Symbol.iteratorç”Ÿæˆäº†å¯¹åº”çš„è¿­ä»£å™¨å¯¹è±¡åå¯¹nextçš„ä¸æ–­å¤ç”¨</span></span><br><span class="line">iterator.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;1&quot;,done:&quot;false&quot;&#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;2&quot;,done:&quot;false&quot;&#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;3&quot;,done:&quot;false&quot;&#125;</span></span><br><span class="line"><span class="comment">// ---------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6è¿­ä»£å™¨å®ç°</span></span><br><span class="line"><span class="keyword">function</span>* <span class="title function_">iteratorGenerator</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;1å·&quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;2å·&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;3å·&quot;</span>; <span class="comment">// é‡åˆ°returnæ—¶è¿­ä»£å™¨è¿”å›doneä¸ºture</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> myit = <span class="title function_">iteratorGenerator</span>();</span><br><span class="line">myit.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;1å·&quot;,done:&quot;false&quot;&#125;</span></span><br><span class="line">myit.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;2å·&quot;,done:&quot;false&quot;&#125;</span></span><br><span class="line">myit.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;3å·&quot;,done:&quot;true&quot;&#125;</span></span><br><span class="line"><span class="comment">// ---------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰è¿­ä»£å™¨å®ç°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">customIterator</span>(<span class="params">dataArr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> idx = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> done = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">next</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> value = <span class="literal">undefined</span>;</span><br><span class="line">      <span class="keyword">if</span> (idx &lt; dataArr.<span class="property">length</span>) &#123;</span><br><span class="line">        value = dataArr[idx];</span><br><span class="line">        idx++;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        done = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        value,</span><br><span class="line">        done,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> st = <span class="title function_">customIterator</span>([<span class="string">&quot;1h&quot;</span>, <span class="string">&quot;2h&quot;</span>]);</span><br><span class="line">st.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;1h&quot;,done:&quot;false&quot;&#125;</span></span><br><span class="line">st.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;2h&quot;,done:&quot;false&quot;&#125;</span></span><br><span class="line">st.<span class="title function_">next</span>(); <span class="comment">// è¾“å‡ºä¸º&#123;value:&quot;undefined&quot;,done:&quot;true&quot;&#125;</span></span><br><span class="line"><span class="comment">// ---------------------------</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°ç»“</p>
<ul>
<li>è¿­ä»£å™¨æ¨¡å¼æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤º</li>
</ul>
</li>
</ul>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2024-02-26</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« å®‰å¾·é²</span>
            
            
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E7%AC%94%E8%AE%B0/'>
                            ç¬”è®°
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2024/04/01/240401%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/'>å‰ç«¯é¢è¯•é¢˜</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2024/02/10/240210%E7%AE%97%E6%B3%95/">ç®—æ³•</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>




                    

                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ</span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>
<script src="/js/emojiHandler.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        wrapEmojis('.paper');
    });
</script>
